<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta name="google-site-verification" content="WIBYTs2Vy14HvrnHixbBGSFenycHFvmqQKvWEK4PogU"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="lanourain"><title>使用位运算解决问题 | Lanourain's blog</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">使用位运算解决问题</h1><a id="logo" href="/.">Lanourain's blog</a><p class="description">I fight, so you don't have to.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Home</i></a><a href="/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/about/"><i class="fa fa-user"> About</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">使用位运算解决问题</h1><div class="post-meta">Mar 22, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-disqus-identifier="2017/03/22/use_bit_manipulation_to_solve_problems_easily_and_efficiently/" href="/2017/03/22/use_bit_manipulation_to_solve_problems_easily_and_efficiently/#disqus_thread" class="disqus-comment-count"></a><div class="post-content"><h3 id="Basics"><a href="#Basics" class="headerlink" title="Basics"></a>Basics</h3><p>位运算包含如下基本操作： &amp;(and), |(or), ~(not), ^(exclusive-or, xor), &lt;&lt; （left shift), &gt;&gt; (right shift)</p>
<ul>
<li>合并：A | B</li>
<li>交集：A &amp; B</li>
<li>减法：A &amp; ~B</li>
<li>取反：ALL_BITS ^ A or ~A</li>
<li>设置某一位为1：A |= 1 &lt;&lt; bit</li>
<li>清除某一位为0：A &amp;= ~(1 &lt;&lt; bit)</li>
<li>判断某一位是否为1：(A &amp; 1 &lt;&lt; bit) != 0</li>
<li>抽取最后一位bit位：A&amp;-A or A&amp;~(A-1) or x^(x&amp;(x-1))</li>
<li>清除最后一位bit位：A &amp; (A-1)</li>
<li>Get all 1-bits ~0 ????</li>
</ul>
<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><ul>
<li>int转换成二进制之后包含的1个数</li>
</ul>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def countOne(<span class="built_in">n</span>)<span class="symbol">:</span></div><div class="line">    <span class="built_in">count</span> = <span class="number">0</span></div><div class="line">    while <span class="symbol">n:</span></div><div class="line">        <span class="built_in">n</span> = <span class="built_in">n</span> &amp; (<span class="built_in">n</span>  - <span class="number">1</span>)</div><div class="line">        <span class="built_in">count</span> += <span class="number">1</span></div><div class="line">    return <span class="built_in">count</span></div></pre></td></tr></table></figure>
<ul>
<li>int 求和</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">def</span> getSum(a, <span class="keyword">b):</span></div><div class="line">    return a <span class="meta">if</span> <span class="keyword">b </span>== <span class="number">0</span> <span class="meta">else</span> getSum(a ^ <span class="keyword">b, </span>(a &amp; <span class="keyword">b) </span>&lt;&lt; <span class="number">1</span>)</div></pre></td></tr></table></figure>
<ul>
<li>int 减法</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">def</span> getSubtract(a, <span class="keyword">b):</span></div><div class="line">    return a <span class="meta">if</span> <span class="keyword">b </span>== <span class="number">0</span> <span class="meta">else</span> getSubtract(a ^ <span class="keyword">b, </span>(~a &amp; <span class="keyword">b) </span>&lt;&lt; <span class="number">1</span>)</div></pre></td></tr></table></figure>
<ul>
<li>查找丢失的数字，长度为n的数字，内部包含 0，1，2，…，n，且不重复。现在有一个数字丢失了，找出哪个数字丢失。如n = 4, nums = [0, 1, 3], 丢失的是2</li>
</ul>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def missingNumber(nums):</div><div class="line">    <span class="keyword">ret</span> = 0</div><div class="line">    <span class="keyword">for</span> i, num <span class="keyword">in</span> enumerate(nums):</div><div class="line">        <span class="keyword">ret</span> ^= <span class="built_in">i</span></div><div class="line">        <span class="keyword">ret</span> ^= num</div><div class="line">    <span class="keyword">return</span> <span class="keyword">ret</span> ^ len(nums)</div></pre></td></tr></table></figure>
<ul>
<li>找出小于N的最大  2^x（每次清除最后一位1，找到n变成0之前的最后一个梳子状态也可以）</li>
</ul>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">def largest_power(<span class="built_in">n</span>)<span class="symbol">:</span></div><div class="line">    <span class="built_in">n</span> |= <span class="built_in">n</span> &gt;&gt; <span class="number">1</span></div><div class="line">    <span class="built_in">n</span> |= <span class="built_in">n</span> &gt;&gt; <span class="number">2</span></div><div class="line">    <span class="built_in">n</span> |= <span class="built_in">n</span> &gt;&gt; <span class="number">4</span></div><div class="line">    <span class="built_in">n</span> |= <span class="built_in">n</span> &gt;&gt; <span class="number">8</span></div><div class="line">    <span class="built_in">n</span> |= <span class="built_in">n</span> &gt;&gt; <span class="number">16</span></div><div class="line"></div><div class="line">    return (<span class="built_in">n</span> + <span class="number">1</span>) &gt;&gt; <span class="number">1</span></div><div class="line">    </div><div class="line">def largest_power2(<span class="built_in">n</span>)<span class="symbol">:</span></div><div class="line">    pre = <span class="built_in">n</span></div><div class="line">    while <span class="symbol">n:</span></div><div class="line">        pre = <span class="built_in">n</span></div><div class="line">        <span class="built_in">n</span> &amp;= <span class="built_in">n</span> - <span class="number">1</span></div><div class="line">    return pre</div></pre></td></tr></table></figure>
<ul>
<li>给定一个无符号的int，反转对应的二进制</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">def reverseBits2(n):</div><div class="line">    <span class="keyword">res</span> = <span class="number">0</span></div><div class="line">    <span class="keyword">for</span> i in <span class="built_in">range</span>(<span class="number">32</span>):</div><div class="line">        <span class="keyword">res</span> &lt;&lt;= <span class="number">1</span></div><div class="line">        <span class="keyword">res</span> |= n &amp; <span class="number">1</span></div><div class="line">        n &gt;&gt;= <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">res</span></div></pre></td></tr></table></figure>
<ul>
<li>给出区间[m, n],(0 &lt;= m &lt;= n &lt;= 2147483647),返回区间内数字按位and之后的结果；如[5, 7] = 5 &amp; 6 &amp; 7 = 4</li>
</ul>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">rangeBitwiseAnd</span><span class="params">(m, n)</span></span>:</div><div class="line">    a = <span class="number">0</span></div><div class="line">    <span class="keyword">while</span> m != <span class="symbol">n:</span></div><div class="line">        m <span class="meta">&gt;&gt;= </span><span class="number">1</span></div><div class="line">        n <span class="meta">&gt;&gt;= </span><span class="number">1</span></div><div class="line">        a += <span class="number">1</span></div><div class="line">    <span class="keyword">return</span> m &lt;&lt; a</div></pre></td></tr></table></figure>
<ul>
<li>给定无符号的n，转换成二进制之后包含1的数量(Hamming weight)</li>
</ul>
<figure class="highlight excel"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">def hammingWeight(<span class="built_in">n</span>)<span class="symbol">:</span></div><div class="line">    <span class="built_in">count</span> = <span class="number">0</span></div><div class="line">    while <span class="symbol">n:</span></div><div class="line">        <span class="built_in">n</span> &amp;= <span class="built_in">n</span> - <span class="number">1</span></div><div class="line">        <span class="built_in">count</span> += <span class="number">1</span></div><div class="line">    return <span class="built_in">count</span></div></pre></td></tr></table></figure>
<h4 id="Application"><a href="#Application" class="headerlink" title="Application"></a>Application</h4><h5 id="REPEATED-DNA-SEQUENCES"><a href="#REPEATED-DNA-SEQUENCES" class="headerlink" title="REPEATED DNA SEQUENCES"></a><a href="https://leetcode.com/problems/repeated-dna-sequences/#/description" target="_blank" rel="external">REPEATED DNA SEQUENCES</a></h5><p>在一个DNA字符串(只包含ACGT)中找出重复的长度为10的子串，例：<br>Given s = “AAAAACCCCCAAAAACCCCCCAAAAAGGGTTT”,<br>Return: [“AAAAACCCCC”, “CCCCCAAAAA”].</p>
<ul>
<li>解法-1：遍历所有的子串，通过dict判断是否重复</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRepeatedDnaSequences</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: List[str]</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(s) &lt; <span class="number">10</span>: <span class="keyword">return</span> []</div><div class="line">        </div><div class="line">        sub_dict = &#123;&#125;</div><div class="line">        ans = []</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s) - <span class="number">10</span> + <span class="number">1</span>):</div><div class="line">            substring = s[i:i + <span class="number">10</span>]</div><div class="line">            <span class="keyword">if</span> sub_dict.has_key(substring):</div><div class="line">                <span class="keyword">if</span> sub_dict[substring] == <span class="number">1</span>:</div><div class="line">                    ans.append(substring)</div><div class="line">                sub_dict[substring] += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                sub_dict[substring] = <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> ans</div></pre></td></tr></table></figure>
<ul>
<li>解法-2：上述需要把所有长度为10的子串都记录下来，会占一定的空间，我们使用二进制来优化空间占用。因为只有ACGT四个字符，所以我们可以考虑用两位二进制来表示一个字符，A = 00，C = 01，G = 10，T = 11，这样对于每个子串，我们可以使用 20位二进制来表示，节省了上述key占有的空间</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRepeatedDnaSequences</span><span class="params">(self, s)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type s: str</div><div class="line">        :rtype: List[str]</div><div class="line">        """</div><div class="line">        <span class="keyword">if</span> len(s) &lt;= <span class="number">10</span>: <span class="keyword">return</span> []</div><div class="line"></div><div class="line">        char_dict = &#123;<span class="string">'A'</span>: <span class="number">0</span>, <span class="string">'C'</span>: <span class="number">1</span>, <span class="string">'G'</span>: <span class="number">2</span>, <span class="string">'T'</span>: <span class="number">3</span>&#125;</div><div class="line">        sub_dict = &#123;&#125;</div><div class="line">        ans = []</div><div class="line">        cur = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">9</span>):</div><div class="line">            cur = (cur &lt;&lt; <span class="number">2</span>) | char_dict[s[i]]</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">9</span>, len(s)):</div><div class="line">            cur = (cur &amp; <span class="number">0x3ffff</span>) &lt;&lt; <span class="number">2</span> | char_dict[s[i]]</div><div class="line">            <span class="keyword">if</span> sub_dict.has_key(cur):</div><div class="line">                <span class="keyword">if</span> sub_dict[cur] == <span class="number">1</span>:</div><div class="line">                    ans.append(s[i - <span class="number">9</span>:i + <span class="number">1</span>])</div><div class="line">                sub_dict[cur] += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                sub_dict[cur] = <span class="number">1</span></div><div class="line">        <span class="keyword">return</span> ans</div></pre></td></tr></table></figure>
<h5 id="Majority-Element"><a href="#Majority-Element" class="headerlink" title="Majority Element"></a><a href="https://leetcode.com/problems/majority-element/#/description" target="_blank" rel="external">Majority Element</a></h5><p>给定长度为n的数字，找出其中出现次数超过⌊ n/2 ⌋的数字，众数</p>
<ul>
<li>解法-1：dict记录出现次数，遍历查看出现次数最多的</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">majorityElement</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        num_dict = &#123;&#125;</div><div class="line">        <span class="keyword">for</span> i, num <span class="keyword">in</span> enumerate(nums):</div><div class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num_dict.has_key(num):</div><div class="line">                num_dict[num] = <span class="number">0</span></div><div class="line">            num_dict[num] += <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> num_dict.keys():</div><div class="line">            <span class="keyword">if</span> num_dict[num] &gt;= len(nums) / <span class="number">2</span> + len(nums) % <span class="number">2</span>:</div><div class="line">                <span class="keyword">return</span> num</div></pre></td></tr></table></figure>
<ul>
<li>解法-2：迭代32次，每次计算所有n个数第i位为1的个数，由于众数一定存在，所以如果第i位为1的个数大于 ⌊ n/2 ⌋，则众数中相应位肯定也为1</li>
</ul>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">class</span> Solution(object):</div><div class="line">    def majorityElement_bit(self, nums):</div><div class="line">        mask, <span class="keyword">ret</span> = 1, 0</div><div class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="keyword">range</span>(32):</div><div class="line">            <span class="keyword">count</span> = 0</div><div class="line">            <span class="keyword">for</span> num <span class="keyword">in</span> nums:</div><div class="line">                <span class="keyword">if</span> mask &amp; num: <span class="keyword">count</span> += 1</div><div class="line">            <span class="keyword">if</span> <span class="keyword">count</span> &gt; len(nums) <span class="comment">// 2:</span></div><div class="line">                # <span class="keyword">if</span> the 31th bit <span class="keyword">if</span> 1,</div><div class="line">                # it <span class="keyword">means</span> it's a negative number</div><div class="line">                <span class="keyword">if</span> i == 31:</div><div class="line">                    <span class="keyword">ret</span> = -((1 &lt;&lt; 31) - <span class="keyword">ret</span>)</div><div class="line">                <span class="keyword">else</span>:</div><div class="line">                    <span class="keyword">ret</span> |= mask</div><div class="line">            mask &lt;&lt;= 1</div><div class="line">        <span class="keyword">return</span> <span class="keyword">ret</span></div></pre></td></tr></table></figure>
<h5 id="Single-Number-III"><a href="#Single-Number-III" class="headerlink" title="Single Number III"></a><a href="https://leetcode.com/problems/single-number-iii/#/description" target="_blank" rel="external">Single Number III</a></h5><p>给定一组数，其中有两个元素只出现一次，其他都出现两次，找出只出现一次的两个元素</p>
<ul>
<li>解法-1：dict计数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: List[int]</div><div class="line">        """</div><div class="line">        num_dict = &#123;&#125;</div><div class="line">        ans = []</div><div class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> nums:</div><div class="line">            <span class="keyword">if</span> <span class="keyword">not</span> num_dict.has_key(num):</div><div class="line">                num_dict[num] = <span class="number">0</span></div><div class="line">            num_dict[num] += <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="keyword">for</span> num <span class="keyword">in</span> num_dict.keys():</div><div class="line">            <span class="keyword">if</span> num_dict[num] == <span class="number">1</span>:</div><div class="line">                ans.append(num)</div><div class="line"></div><div class="line">        <span class="keyword">return</span> ans</div></pre></td></tr></table></figure>
<ul>
<li>解法-2：把所有数字都xor下，可得到a ^ b，通过a ^ b随便取其中等于1的一位(表示a和b在这一位中一个是0，一个是1)，去和数组所有的数字 &amp; 下，可以把数组分成两组，且两组数都满足只有一个数字出现一次，其他数字都出现两次。分别对两组数求只出现一次的数字。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber_bit</span><span class="params">(self, nums)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type nums: List[int]</div><div class="line">        :rtype: List[int]</div><div class="line">        """</div><div class="line">        s = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> nums:</div><div class="line">            s ^= x</div><div class="line">        s &amp;= -s</div><div class="line"></div><div class="line">        ans = [<span class="number">0</span>, <span class="number">0</span>]</div><div class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> nums:</div><div class="line">            <span class="keyword">if</span> x &amp; s:</div><div class="line">                ans[<span class="number">0</span>] ^= x</div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                ans[<span class="number">1</span>] ^= x</div><div class="line"></div><div class="line">        <span class="keyword">return</span> ans</div></pre></td></tr></table></figure>
<h5 id="Maximum-Product-of-Word-Lengths"><a href="#Maximum-Product-of-Word-Lengths" class="headerlink" title="Maximum Product of Word Lengths"></a><a href="https://leetcode.com/problems/maximum-product-of-word-lengths/#/description" target="_blank" rel="external">Maximum Product of Word Lengths</a></h5><p>给定一串单词，从中找出两个没有公用字符的单子，且length(word[i]) * length(word[j])最大，返回最大值。</p>
<ul>
<li>解法：复杂度O(n^2),主要问题是判断两个word是否有公用字符,把使用到的字符转换成二进制数进行记录,两个word对应的二进制数 &amp; 一下如果 = 0，则表示没有公用字符。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getBitNum</span><span class="params">(self, word)</span>:</span></div><div class="line">        num = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> word:</div><div class="line">            num |= <span class="number">1</span> &lt;&lt; (ord(c) - ord(<span class="string">'a'</span>))</div><div class="line">        <span class="keyword">return</span> num</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProduct</span><span class="params">(self, words)</span>:</span></div><div class="line">        <span class="string">"""</span></div><div class="line">        :type words: List[str]</div><div class="line">        :rtype: int</div><div class="line">        """</div><div class="line">        word_bit = &#123;&#125;</div><div class="line">        ans = <span class="number">0</span></div><div class="line">        <span class="keyword">for</span> word <span class="keyword">in</span> words:</div><div class="line">            word_bit[word] = self.getBitNum(word)</div><div class="line"></div><div class="line">        l = len(words)</div><div class="line"></div><div class="line">        <span class="keyword">for</span> i, word1 <span class="keyword">in</span> enumerate(words):</div><div class="line">            <span class="keyword">for</span> j, word2 <span class="keyword">in</span> enumerate(words, i + <span class="number">1</span>):</div><div class="line">                <span class="keyword">if</span> <span class="keyword">not</span> word_bit[word1] &amp; word_bit[word2]:</div><div class="line">                    ans = max(ans, len(word1) * len(word2))</div><div class="line"></div><div class="line">        <span class="keyword">return</span> ans</div></pre></td></tr></table></figure>
<p>原文：<a href="https://discuss.leetcode.com/topic/50315/a-summary-how-to-use-bit-manipulation-to-solve-problems-easily-and-efficiently" target="_blank" rel="external">A summary: how to use bit manipulation to solve problems easily and efficiently</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://lanourain.github.io/2017/03/22/use_bit_manipulation_to_solve_problems_easily_and_efficiently/" data-id="cj0l2y7jt0000sjbtvl6tlwau" class="article-share-link">Share</a><div class="tags"><a href="/tags/bit/">bit</a><a href="/tags/algorithm/">algorithm</a></div><div class="post-nav"><a href="/2017/03/28/OKR-Summary/" class="pre">OKR简介</a><a href="/2017/03/19/Gintama/" class="next">浪客剑心和银魂背后的历史</a></div><div id="disqus_thread"><script>var disqus_shortname = 'lanourain@gmail.com';
var disqus_identifier = '2017/03/22/use_bit_manipulation_to_solve_problems_easily_and_efficiently/';
var disqus_title = '使用位运算解决问题';
var disqus_url = 'http://lanourain.github.io/2017/03/22/use_bit_manipulation_to_solve_problems_easily_and_efficiently/';
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//lanourain@gmail.com.disqus.com/count.js" async></script></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://lanourain.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div><ul class="category-list"></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/project/" style="font-size: 15px;">project</a> <a href="/tags/daily/" style="font-size: 15px;">daily</a> <a href="/tags/软件工程/" style="font-size: 15px;">软件工程</a> <a href="/tags/ansible/" style="font-size: 15px;">ansible</a> <a href="/tags/Team/" style="font-size: 15px;">Team</a> <a href="/tags/Management/" style="font-size: 15px;">Management</a> <a href="/tags/Reading/" style="font-size: 15px;">Reading</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/design-patterns/" style="font-size: 15px;">design_patterns</a> <a href="/tags/动漫/" style="font-size: 15px;">动漫</a> <a href="/tags/历史/" style="font-size: 15px;">历史</a> <a href="/tags/bit/" style="font-size: 15px;">bit</a> <a href="/tags/algorithm/" style="font-size: 15px;">algorithm</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/05/17/singleton/">单例模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/17/promise_patterns/">Promise模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/28/OKR-Summary/">OKR简介</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/22/use_bit_manipulation_to_solve_problems_easily_and_efficiently/">使用位运算解决问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/19/Gintama/">浪客剑心和银魂背后的历史</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/08/proxy_pattern_and_dynamic_proxy/">代理模式和动态代理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/16/ansible_basic/">ansible基础教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/version_control/">项目版本管理模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/24/ansible-best-practice-summary/">Ansible Best Practices Summary</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/12/2017-year-plan/">2017年度计划</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-comment-o"> Recent Comments</i></div><script type="text/javascript" src="//lanourain@gmail.com.disqus.com/recent_comments_widget.js?num_items=5&amp;hide_avatars=1&amp;avatar_size=32&amp;excerpt_length=20&amp;hide_mods=1"></script></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Blogroll</i></div><ul></ul><a href="http://blog.yongbin.me/" title="El Psy Congroo" target="_blank">El Psy Congroo</a><ul></ul><a href="https://majiahui.github.io/" title="Jiahui's Blog" target="_blank">Jiahui's Blog</a><ul></ul><a href="http://czmonster.com/" title="Day Day Up" target="_blank">Day Day Up</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Lanourain's blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>